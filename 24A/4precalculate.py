import numpy as np

def generate_precomputed_constants():
    """
    æ ¹æ®é—®é¢˜æè¿°ä¸­çš„åŸºæœ¬å‚æ•°ï¼Œè®¡ç®—å¹¶è¿”å›æ‰€æœ‰åœ¨ä¸»ç¨‹åºä¸­éœ€è¦ç”¨åˆ°çš„å¸¸é‡ã€‚
    """
    
    # --------------------------------------------------------------------------
    # 1. åŸºæœ¬è¾“å…¥å‚æ•° (ä»é—®é¢˜æè¿°ä¸­ç›´æ¥è·å–)
    # --------------------------------------------------------------------------
    d = 1.7  # èºçº¿èºè· (m)
    D = 9.0  # è°ƒå¤´ç©ºé—´ç›´å¾„ (m)
    v0 = 1.0 # é¾™å¤´æ’å®šé€Ÿåº¦ (m/s)

    # --------------------------------------------------------------------------
    # 2. æ ¸å¿ƒå‡ ä½•å‚æ•°è®¡ç®—
    # --------------------------------------------------------------------------
    
    # è°ƒå¤´ç©ºé—´çš„åŠå¾„
    R_space = D / 2.0
    
    # èºçº¿æ–¹ç¨‹å¸¸æ•° aï¼Œå…¶ä¸­ ğœŒ = a * ğœƒ
    a = d / (2 * np.pi)
    
    # é¾™å¤´åœ¨0æ—¶åˆ»ï¼ˆè°ƒå¤´å¼€å§‹ç‚¹ P_inï¼‰çš„æè§’ theta0
    # æ­¤æ—¶ï¼Œé¾™å¤´ä½äºè°ƒå¤´ç©ºé—´è¾¹ç•Œä¸Šï¼Œå…¶æå¾„ ğœŒ_in = R_space
    # R_space = a * theta0  =>  theta0 = R_space / a
    theta0 = R_space / a

    # Så½¢æ›²çº¿çš„åŠå¾„ (r, r1) å’Œåœ†å¿ƒè§’ (aleph)
    # è¿™ä¸‰ä¸ªå€¼æ˜¯é€šè¿‡æ±‚è§£å¤æ‚çš„å‡ ä½•çº¦æŸæ–¹ç¨‹ï¼ˆèºçº¿ä¸åœ†å¼§åœ¨P_inå’ŒP_outç‚¹ç›¸åˆ‡ï¼Œ
    # ä¸”ä¸¤æ®µåœ†å¼§å½¼æ­¤ç›¸åˆ‡ï¼‰å¾—åˆ°çš„ã€‚
    r = 1.5027088      # è¾ƒå°åœ†å¼§åŠå¾„ râ‚‚ (m)
    aleph = 3.0214868  # åœ†å¿ƒè§’ Î± (rad)
    
    # --------------------------------------------------------------------------
    # 3. è¡ç”Ÿå‚æ•°è®¡ç®— (ç”±æ ¸å¿ƒå‚æ•°ç›´æ¥æ¨ç®—)
    # --------------------------------------------------------------------------
    
    # è¾ƒå¤§å¤§åœ†å¼§åŠå¾„ râ‚
    r1 = 2 * r
    
    # é¾™å¤´åˆ°è¾¾Så½¢æ›²çº¿ä¸­ç‚¹Pçš„æ—¶é—´ t1
    # è·¯ç¨‹ = å¤§åœ†å¼§å¼§é•¿ = r1 * aleph
    t1 = (r1 * aleph) / v0

    # é¾™å¤´å®Œæˆè°ƒå¤´åˆ°è¾¾ P_out çš„æ—¶é—´ t2
    # æ€»è·¯ç¨‹ = ä¸¤æ®µåœ†å¼§æ€»é•¿ = (r1 + r) * aleph
    t2 = ((r1 + r) * aleph) / v0
    
    # Så½¢æ›²çº¿ä¸¤æ®µåœ†å¼§çš„åœ†å¿ƒåæ ‡ (x1, y1) å’Œ (x2, y2)
    # ä»¥åŠç”¨äºå‚æ•°æ–¹ç¨‹è®¡ç®—çš„èµ·å§‹è§’åº¦ theta1_arc, theta2_arc
    # è¿™äº›å€¼åŒæ ·æ˜¯å‡ ä½•æ±‚è§£çš„ç»“æœï¼Œä¸ theta0, r, aleph ç›¸å…³ã€‚
    # åœ¨æ‚¨çš„ä»£ç ä¸­ä¹Ÿæ˜¯ç›´æ¥ç»™å‡ºçš„å·²çŸ¥æ•°ã€‚
    x1 = -0.7600091
    y1 = -1.3057264
    x2 = 1.7359325
    y2 = 2.4484020
    theta1_arc = 4.0055376
    theta2_arc = 0.8639449

    # --------------------------------------------------------------------------
    # 4. æ±‡æ€»æ‰€æœ‰å¸¸é‡åˆ°ä¸€ä¸ªå­—å…¸ä¸­ï¼Œæ–¹ä¾¿åœ¨ä¸»ç¨‹åºä¸­ä½¿ç”¨
    # --------------------------------------------------------------------------
    constants = {
        'd': d, 'D': D, 'v0': v0,
        'theta0': theta0, 
        'r': r, 'r1': r1, 'aleph': aleph,
        't1': t1, 't2': t2,
        'x1': x1, 'y1': y1,
        'x2': x2, 'y2': y2,
        'theta1_arc': theta1_arc,
        'theta2_arc': theta2_arc
    }
    
    return constants

if __name__ == '__main__':
    # æ‰§è¡Œè®¡ç®—å¹¶æ‰“å°ç»“æœ
    precomputed_values = generate_precomputed_constants()
    
    print("--- é¢„è®¡ç®—å¸¸é‡æ¸…å• ---")
    for key, value in precomputed_values.items():
        print(f"{key:<12}: {value}")

    
