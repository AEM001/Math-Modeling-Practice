# 各子区域局部坐标系参数报告

本文档根据 `4solution.md` 中提出的坐标变换思路，对 `region_division_report.md` 中划分的7个子区域进行计算，以为后续的测线规划提供基础数据。

## 计算流程

对每个子区域，我们执行了以下步骤：

1.  **方向确定**：基于平面拟合参数 $(\beta_1, \beta_2)$，使用 `atan2(-β₂, -β₁)` 计算出该区域的平均坡向 $\varphi_k$。主测线方向 $\theta_k$ 定义为与坡向垂直，即 $\theta_k = \varphi_k + 90°$。
2.  **坐标变换**：建立以主测线方向为u轴，坡向为v轴的局部坐标系。使用以下公式将每个区域的4个角点从全局坐标 $(x, y)$ 变换到局部坐标 $(u, v)$：
   ```
   u = x*cos(θ_k) + y*sin(θ_k)
   v = -x*sin(θ_k) + y*cos(θ_k)
   ```
3.  **边界确定**：通过变换后的4个角点的坐标，确定每个区域在局部坐标系下的u和v的范围 $(u_{min}, u_{max})$ 和 $(v_{min}, v_{max})$。这个范围，特别是 $v$ 轴的范围，将作为后续迭代布线的有效边界。

## 计算结果

以下表格汇总了每个区域计算出的关键参数。这些数据也已保存至 `local_coord_params.csv` 文件中，方便后续程序调用。

|   区域编号 |   坡向 φ (°) |   主测线方向 θ (°) |   u_min |   u_max |   v_min |   v_max |
|-----------:|-------------:|-------------------:|--------:|--------:|--------:|--------:|
|     0.0000 |     -87.3102 |             2.6898 |  0.0000 |  1.0958 | -0.0460 |  2.4873 |
|     1.0000 |    -176.1115 |           -86.1115 | -2.4178 |  0.1350 |  0.9777 |  2.1543 |
|     2.0000 |     -97.0618 |            -7.0618 | -0.6147 |  1.6688 |  2.4711 |  5.2067 |
|     3.0000 |     168.8281 |           258.8281 | -3.0221 | -0.3856 |  1.4698 |  2.9333 |
|     4.0000 |     158.7499 |           248.7499 | -3.7705 | -1.0837 |  1.8842 |  3.7280 |
|     5.0000 |    -140.5444 |           -50.5444 | -2.5960 | -0.0225 |  3.1189 |  5.4860 |
|     6.0000 |     150.1011 |           240.1011 | -6.3284 | -3.6490 |  0.0997 |  2.2264 |